"use strict";(self.webpackChunkangular_starter=self.webpackChunkangular_starter||[]).push([[922],{2922:(B,u,r)=>{r.r(u),r.d(u,{UsersModule:()=>X});var h=r(7455),c=r(6728),m=r(177),i=r(4341),d=r(5408),f=r(2242),p=r(1935),F=r(1397),t=r(4438),C=r(1626);let j=(()=>{class n{constructor(e){this.http=e,this.store=(0,d.$C)(this.http,{apiUrlBase:"https://jsonplaceholder.typicode.com"}),this.users=this.store({apiUrl:"/users",uniqueId:"id"})}static#t=this.\u0275fac=function(o){return new(o||n)(t.KVO(C.Qq))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _=r(4171);function b(n,a){if(1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"a",2),t.EFF(3,"Back to users"),t.k0s(),t.j41(4,"h1"),t.nrm(5,"i",3),t.EFF(6),t.k0s(),t.j41(7,"div",4)(8,"div",5)(9,"table",6)(10,"tbody")(11,"tr")(12,"td")(13,"strong"),t.EFF(14,"Name"),t.k0s()(),t.j41(15,"td"),t.EFF(16),t.k0s()(),t.j41(17,"tr")(18,"td")(19,"strong"),t.EFF(20,"Email"),t.k0s()(),t.j41(21,"td"),t.EFF(22),t.k0s()(),t.j41(23,"tr")(24,"td")(25,"strong"),t.EFF(26,"Website"),t.k0s()(),t.j41(27,"td"),t.EFF(28),t.k0s()(),t.j41(29,"tr")(30,"td")(31,"strong"),t.EFF(32,"Phone Number"),t.k0s()(),t.j41(33,"td"),t.EFF(34),t.k0s()()()()()()()()),2&n){const e=a;t.R7$(6),t.SpI(" ",e.name,""),t.R7$(10),t.JRh(e.name),t.R7$(6),t.JRh(e.email),t.R7$(6),t.JRh(e.website),t.R7$(6),t.JRh(e.phone)}}let v=(()=>{class n{constructor(e,o){this.route=e,this.api=o,this.user$=this.route.params.pipe((0,F.Z)(s=>this.api.http.get("https://jsonplaceholder.typicode.com/users/"+s.userId)))}ngOnInit(){}ngOnDestroy(){}static#t=this.\u0275fac=function(o){return new(o||n)(t.rXU(p.nX),t.rXU(j))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-user"]],decls:3,vars:3,consts:[[1,"container","mt-3"],[2,"max-width","480px","margin","auto"],["routerLink","/users/",1,"float-end"],[1,"fas","fa-user"],[1,"card"],[1,"card-body"],[1,"table","table-sm","table-striped","mb-0"]],template:function(o,s){if(1&o&&(t.j41(0,"app-masterpage"),t.DNE(1,b,35,5,"div",0),t.nI1(2,"async"),t.k0s()),2&o){let l;t.R7$(),t.vxM(1,(l=t.bMT(2,1,s.user$))?1:-1,l)}},dependencies:[p.Wk,_.z,m.Jj],changeDetection:0})}return n})();var k=r(2283),E=r(3192);const R=n=>[n];function U(n,a){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"a",24),t.EFF(3),t.k0s()(),t.j41(4,"td")(5,"a",25),t.nI1(6,"phoneNumber"),t.EFF(7),t.nI1(8,"phoneNumber"),t.k0s()(),t.j41(9,"td")(10,"a",25),t.EFF(11),t.k0s()(),t.j41(12,"td")(13,"div",26)(14,"a",27),t.bIt("click",function(){const s=t.eBV(e).$implicit,l=t.XpG(3);return t.Njj(l.edit(s))}),t.nrm(15,"app-icons",28),t.k0s(),t.j41(16,"a",29),t.bIt("click",function(){const s=t.eBV(e).$implicit,l=t.XpG(3);return t.Njj(l.delete(s))}),t.nrm(17,"app-icons",30),t.k0s()()()()}if(2&n){const e=a.$implicit;t.R7$(2),t.Y8G("routerLink",t.eq3(12,R,"./"+e.id)),t.R7$(),t.JRh(e.name),t.R7$(2),t.Mz_("href","tel:",t.bMT(6,8,e.phone),"",t.B4B),t.R7$(2),t.JRh(t.bMT(8,10,e.phone)),t.R7$(3),t.Mz_("href","mailto:",e.email,"",t.B4B),t.R7$(),t.JRh(e.email)}}function g(n,a){if(1&n&&(t.j41(0,"table",10)(1,"thead")(2,"tr")(3,"th"),t.EFF(4,"Name"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Phone"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Email"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Actions"),t.k0s()()(),t.j41(11,"tbody"),t.Z7z(12,U,18,14,"tr",null,t.fX1),t.k0s()()),2&n){const e=t.XpG();t.R7$(12),t.Dyx(e.data)}}function x(n,a){1&n&&(t.j41(0,"p"),t.EFF(1,"No users found"),t.k0s())}function y(n,a){if(1&n){const e=t.RV6();t.j41(0,"a",3),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.editUndo())}),t.EFF(1,"Undo"),t.k0s()}}function $(n,a){1&n&&(t.j41(0,"h3"),t.EFF(1,"Edit existing user"),t.k0s())}function N(n,a){1&n&&(t.j41(0,"h3"),t.EFF(1,"Add a new user"),t.k0s())}function T(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",31),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.save())}),t.nrm(1,"app-icons",28),t.EFF(2," Save User"),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("disabled",e.modifying)}}function G(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",31),t.bIt("click",function(){t.eBV(e);const s=t.XpG(2);return t.Njj(s.save())}),t.nrm(1,"app-icons",32),t.EFF(2," Create User"),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("disabled",e.modifying)}}function I(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.refresh())}),t.nrm(4,"app-icons",4),t.k0s(),t.j41(5,"h1"),t.nrm(6,"app-icons",5),t.EFF(7),t.k0s(),t.j41(8,"div",6)(9,"div",7)(10,"nts-api-state",8)(11,"div",9),t.DNE(12,g,14,0,"table",10),t.k0s()(),t.DNE(13,x,2,0,"ng-template"),t.k0s()()(),t.j41(14,"div",11)(15,"div",12)(16,"div",7),t.DNE(17,y,2,0,"a",13)(18,$,2,0,"h3")(19,N,2,0,"h3"),t.nrm(20,"hr",14),t.j41(21,"form",15)(22,"p",14)(23,"span",16),t.nrm(24,"input",17),t.j41(25,"label",18),t.EFF(26,"Name"),t.k0s()()(),t.j41(27,"p",14)(28,"span",16),t.nrm(29,"input",19),t.j41(30,"label",20),t.EFF(31,"Email"),t.k0s()()(),t.j41(32,"p",14)(33,"span",16),t.nrm(34,"input",21),t.j41(35,"label",22),t.EFF(36,"Phone Number"),t.k0s()()(),t.j41(37,"div",13),t.DNE(38,T,3,1,"button",23)(39,G,3,1,"button",23),t.k0s()()()()()()()}if(2&n){let e;const o=a,s=t.XpG();t.R7$(7),t.SpI(" List of users (",null!==(e=null==o||null==o.data?null:o.data.length)&&void 0!==e?e:0,")"),t.R7$(3),t.Y8G("state",o),t.R7$(2),t.vxM(12,null!=o.data&&o.data.length?12:-1),t.R7$(5),t.vxM(17,s.isEdit()?17:-1),t.R7$(),t.vxM(18,s.isEdit()?18:-1),t.R7$(),t.vxM(19,s.isEdit()?-1:19),t.R7$(2),t.Y8G("formGroup",s.userForm),t.R7$(17),t.vxM(38,s.isEdit()?38:-1),t.R7$(),t.vxM(39,s.isEdit()?-1:39)}}let M=(()=>{class n{constructor(e,o){this.api=e,this.fb=o,this.userForm=this.fb.group({address:new i.FormControl,company:new i.FormControl,email:new i.FormControl,id:new i.FormControl,name:new i.FormControl,phone:new i.FormControl,username:new i.FormControl,website:new i.FormControl}),this.isEdit=(0,t.vPA)(!1)}ngOnInit(){}save(){const e=this.userForm.getRawValue();(this.isEdit()?this.api.users.put(e):this.api.users.post(e)).subscribe(()=>{this.userForm.reset(),this.isEdit.set(!1)})}edit(e){this.userForm.patchValue(e),this.isEdit.set(!0)}editUndo(){this.userForm.reset(),this.isEdit.set(!1)}delete(e){confirm(`Are you sure you want to delete ${e.name}?`)&&this.api.users.delete(e).subscribe()}refresh(){this.api.users.refresh().subscribe()}ngOnDestroy(){}static#t=this.\u0275fac=function(o){return new(o||n)(t.rXU(c.Gf),t.rXU(i.NonNullableFormBuilder))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-users"]],decls:3,vars:3,consts:[[1,"container","mt-3"],[1,"row"],[1,"col","col-12","col-md-9"],[1,"float-end",3,"click"],["icon","refresh"],["icon","users"],[1,"card"],[1,"card-body"],[3,"state"],[1,"table-container"],[1,"table","table-sm","table-striped","mb-0","table-mobile"],[1,"col","col-12","col-md-3"],[1,"card","mb-3"],[1,"float-end"],[1,"mb-4"],[3,"formGroup"],[1,"p-float-label","w-100"],["id","name","type","text","pInputText","","formControlName","name",1,"w-100"],["for","name"],["id","email","type","text","pInputText","","formControlName","email",1,"w-100"],["for","email"],["id","phone","type","text","pInputText","","formControlName","phone",1,"w-100"],["for","phone"],[1,"btn","btn-primary",3,"disabled"],[3,"routerLink"],[3,"href"],[1,"text-end"],[1,"me-3",3,"click"],["icon","cog"],[3,"click"],["icon","trash"],[1,"btn","btn-primary",3,"click","disabled"],["icon","plus"]],template:function(o,s){if(1&o&&(t.j41(0,"app-masterpage"),t.DNE(1,I,40,9,"div",0),t.nI1(2,"async"),t.k0s()),2&o){let l;t.R7$(),t.vxM(1,(l=t.bMT(2,1,s.api.users.state$))?1:-1,l)}},dependencies:[p.Wk,i.\u0275NgNoValidate,i.DefaultValueAccessor,i.NgControlStatus,i.NgControlStatusGroup,i.FormGroupDirective,i.FormControlName,_.z,k.IconsComponent,d.yK,f.S,m.Jj,E._],styles:["@media (max-width: 998px){.table-container[_ngcontent-%COMP%]{overflow:auto}}"],changeDetection:0})}return n})();const V=[{path:":userId",component:v,title:(0,c.Qe)("Modify User")},{path:"",component:M,title:(0,c.Qe)("Users")}],D=p.iI.forChild(V);let X=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[m.MD,c.Gg,i.FormsModule,i.ReactiveFormsModule,h.YD,h.Gs,D,d.E_,f.u]})}return n})()}}]);